<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="/data/material.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            width: 95vw;
            margin: 0 auto;
        }

        #top-contain {
            border: 1px solid black;
            padding: 50px 0 0 0;
            display: flex;
            justify-content: space-between;
        }

        .crud,
        .button {
            border: 1px solid black;
            border-radius: 10px;
            height: 80px;
            width: 80px;
        }

        #mid-contain {
            border: 1px solid black;
            margin: 20px 0 0 0;
        }

        .mid-contain-article {
            border: 1px solid red;
            display: inline-block;
            margin: 10px;

        }

        #id2 {
            margin-left: 26px;
        }

        #id3 {
            margin-left: 39px;
        }

        #id4 {
            margin-left: 42px;
        }

        #id7 {
            margin-left: 26px;
        }

        #check {
            border-radius: 10px;
            width: 50px;
            height: 30px;
        }

        #main-contain {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }

        table,
        tr,
        th,
        td {
            /* 중복 테두리 제거 코드 */
            border-collapse: collapse;
            border: 1px solid black;
        }

        table {
            width: 80%;

        }



        .start-table {
            display: none;

        }

        .finishe-table {
            display: none;

        }

        .crud:hover {
            background-color: rgb(149, 149, 155);
        }
        #check-option{
            width: 200px; 
            height: 80px
        }

        /* 넓이에따른 if문 0~600px까지만 적용  */
        @media screen and (max-width: 600px) {
        .crud,
        .button {
            height: 30px;
            width: 30px;
        }
        #check-option{
            width: 100px;
            height: 30px;
        }
        .mid-contain-article{
            font-size: 10px;
        }
        #id3{
            margin-left: 10px;
        }
        #id4{
            margin-left: 35px;
        }
        #id6{
            margin-left: 15px;
        }
        #id7{
            margin-left: 10px;
        }
        #id8{
            margin-left: 15px;
        }
        table {
            width: 100%;
        }
        .start-td{
            font-size: 10px;
        }
   
        }
    </style>
</head>

<body>
    <div id="top-contain">
        <div id="top-1">
            <input type="button" value="조회" class="crud" id="r">
            <input type="button" value="생성" class="crud" id="c">
            <input type="button" value="수정" class="crud" id="u">
            <input type="button" value="삭제" class="crud" id="d">
        </div>
        <div id="top-2">
            <select name="option"  id="check-option">
                <option value="1">원재료 조회</option>
                <option value="2">완재품 조회</option>
            </select>
            <input type="button" value="확인" class="button" id="check-option-button">
        </div>
    </div>

    <div id="mid-contain">
        <div class="mid-contain-article" id="id1"> 제품명:<input type="text" class="mid-data"> </div>
        <div class="mid-contain-article" id="id2"> 가격:<input type="text" class="mid-data"> </div>
        <div class="mid-contain-article" id="id3"> 규격:<input type="text" class="mid-data"> </div>
        <div class="mid-contain-article" id="id4"> 단위:<input type="text" class="mid-data"> </div>
        <br>
        <div class="mid-contain-article" id="id5"> 공급업체:<input type="text" class="mid-data"> </div>
        <div class="mid-contain-article" id="id6"> LotNo:<input type="text" class="mid-data"> </div>
        <div class="mid-contain-article" id="id7"> 창고위치:<input type="text" class="mid-data"> </div>
        <div class="mid-contain-article" id="id8"> <input type="button" value="확인" id="mid-contain-check"> </div>
    </div>
    

    <div id="main-contain">
        <!-- 원재료 테이블 -->
        <table class="start-table">
            <tr>
                <th>
                    <div style="width: 30px;"></div>
                </th>
                <th>제품명</th>
                <th>가격</th>
                <th>규격</th>
                <th>단위</th>
                <th>공급업체</th>
                <th>LotNo</th>
                <th>창고위치</th>
            </tr>
            <br>
        </table>
        <!-- 완제품 테이블 -->
        <table class="finishe-table">
            <tr>
                <th>
                    <div style="width: 30px;"></div>
                </th>
                <th>제품명</th>
                <th>가격</th>
                <th>규격</th>
                <th>단위</th>
                <th>공급업체</th>
                <th>LotNo</th>
                <th>창고위치</th>
            </tr>

        </table>

    </div>
    <script>
        window.addEventListener("load", function () {
            const start = [
                { 제품명: "베이크드빈", 가격: 1500, 규격: 1, 단위: "캔", 공급업체: "네이처하이브", LotNo: "ING-20250124-001", 창고위치: "상온" },
                { 제품명: "햄", 가격: 5000, 규격: 500, 단위: "g", 공급업체: "미트하모니", LotNo: "ING-20250124-002", 창고위치: "상온" },
                { 제품명: "사골육수", 가격: 3000, 규격: 500, 단위: "ml", 공급업체: "육수정원", LotNo: "ING-20250124-003", 창고위치: "냉장" },
                { 제품명: "사골 농축 육수", 가격: 2500, 규격: 100, 단위: "ml", 공급업체: "*은맛푸드", LotNo: "ING-20250124-004", 창고위치: "냉장" },
                { 제품명: "사리면", 가격: 1200, 규격: 200, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-005", 창고위치: "상온" },
                { 제품명: "부대찌개 소스", 가격: 2000, 규격: 500, 단위: "g", 공급업체: "소스 마스터즈", LotNo: "ING-20250124-006", 창고위치: "상온" },
                { 제품명: "각종 채소", 가격: 2500, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-007", 창고위치: "냉장" },
                { 제품명: "체다슬라이스 치즈", 가격: 3000, 규격: 200, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-008", 창고위치: "냉장" },
                { 제품명: "찌개용 용기", 가격: 500, 규격: 1, 단위: "개", 공급업체: "에코컨테이너", LotNo: "PKG-20250124-001", 창고위치: "상온" },
                { 제품명: "김치", 가격: 1500, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-009", 창고위치: "냉장" },
                { 제품명: "고춧가루", 가격: 3000, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-010", 창고위치: "상온" },
                { 제품명: "설탕", 가격: 1000, 규격: 1, 단위: "kg", 공급업체: "네이처하이브", LotNo: "ING-20250124-011", 창고위치: "상온" },
                { 제품명: "마늘", 가격: 2000, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-012", 창고위치: "상온" },
                { 제품명: "대파", 가격: 1000, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-013", 창고위치: "냉장" },
                { 제품명: "돈육", 가격: 6000, 규격: 500, 단위: "g", 공급업체: "미트하모니", LotNo: "ING-20250124-014", 창고위치: "냉동" },
                { 제품명: "두부", 가격: 1500, 규격: 300, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-015", 창고위치: "냉동" },
                { 제품명: "김치찌개용 육수", 가격: 2500, 규격: 500, 단위: "ml", 공급업체: "육수정원", LotNo: "ING-20250124-016", 창고위치: "냉장" },
                { 제품명: "소고기", 가격: 10000, 규격: 500, 단위: "g", 공급업체: "미트하모니", LotNo: "ING-20250124-017", 창고위치: "냉동" },
                { 제품명: "팽이버섯", 가격: 2000, 규격: 100, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-018", 창고위치: "냉동" },
                { 제품명: "당면", 가격: 1500, 규격: 200, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-019", 창고위치: "냉동" },
                { 제품명: "깻잎", 가격: 1500, 규격: 100, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-020", 창고위치: "냉장" },
                { 제품명: "초간장", 가격: 1500, 규격: 500, 단위: "ml", 공급업체: "네이처하이브", LotNo: "ING-20250124-021", 창고위치: "상온" },
                { 제품명: "밀푀유나베 소스", 가격: 2000, 규격: 500, 단위: "g", 공급업체: "소스 마스터즈", LotNo: "ING-20250124-022", 창고위치: "상온" },
                { 제품명: "칠리소스", 가격: 2000, 규격: 500, 단위: "g", 공급업체: "소스 마스터즈", LotNo: "ING-20250124-023", 창고위치: "상온" },
                { 제품명: "새송이 버섯", 가격: 2500, 규격: 100, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-024", 창고위치: "냉동" },
                { 제품명: "표고 버섯", 가격: 3000, 규격: 100, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-025", 창고위치: "냉동" },
                { 제품명: "생면", 가격: 1500, 규격: 200, 단위: "g", 공급업체: "*성전문점", LotNo: "ING-20250124-026", 창고위치: "냉동" },
                { 제품명: "배추", 가격: 1000, 규격: 1, 단위: "kg", 공급업체: "네이처하이브", LotNo: "ING-20250124-027", 창고위치: "냉장" },
                { 제품명: "청경채", 가격: 1500, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-028", 창고위치: "냉장" },
                { 제품명: "샤브용 육수", 가격: 2500, 규격: 500, 단위: "ml", 공급업체: "육수정원", LotNo: "ING-20250124-029", 창고위치: "냉장" },
                { 제품명: "나베용 용기", 가격: 500, 규격: 1, 단위: "개", 공급업체: "에코컨테이너", LotNo: "PKG-20250124-002", 창고위치: "상온" },
                { 제품명: "떡", 가격: 2000, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-030", 창고위치: "냉동" },
                { 제품명: "어묵", 가격: 3000, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-031", 창고위치: "냉동" },
                { 제품명: "떡볶이 소스", 가격: 2000, 규격: 500, 단위: "g", 공급업체: "소스 마스터즈", LotNo: "ING-20250124-032", 창고위치: "상온" },
                { 제품명: "떡볶이 용기", 가격: 500, 규격: 1, 단위: "개", 공급업체: "에코컨테이너", LotNo: "PKG-20250124-003", 창고위치: "상온" },
                { 제품명: "양념육 (소곱창, 대곱창)", 가격: 8000, 규격: 500, 단위: "g", 공급업체: "미트하모니", LotNo: "ING-20250124-033", 창고위치: "냉동" },
                { 제품명: "전골용 육수", 가격: 2500, 규격: 500, 단위: "ml", 공급업체: "육수정원", LotNo: "ING-20250124-034", 창고위치: "냉장" },
                { 제품명: "새송이버섯", 가격: 2500, 규격: 100, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-035", 창고위치: "냉동" },
                { 제품명: "느타리버섯", 가격: 2000, 규격: 100, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-036", 창고위치: "냉동" },
                { 제품명: "소고기", 가격: 10000, 규격: 500, 단위: "g", 공급업체: "미트하모니", LotNo: "ING-20250124-037", 창고위치: "냉동" },
                { 제품명: "두부", 가격: 1500, 규격: 300, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-038", 창고위치: "냉동" },
                { 제품명: "배추", 가격: 1000, 규격: 1, 단위: "kg", 공급업체: "네이처하이브", LotNo: "ING-20250124-039", 창고위치: "냉장" },
                { 제품명: "양파", 가격: 1000, 규격: 500, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-040", 창고위치: "냉장" },
                { 제품명: "깻잎", 가격: 1500, 규격: 100, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-041", 창고위치: "냉장" },
                { 제품명: "라면 사리", 가격: 1200, 규격: 200, 단위: "g", 공급업체: "네이처하이브", LotNo: "ING-20250124-042", 창고위치: "상온" },
                { 제품명: "곱창 전골 용기", 가격: 500, 규격: 1, 단위: "개", 공급업체: "에코컨테이너", LotNo: "PKG-20250124-004", 창고위치: "상온" },


            ];

            let starttablebody = document.querySelector(".start-table tbody")

            start.forEach(function (v, i) {
                newstart = document.createElement("tr")
                newstart.innerHTML = `
                <td class="start-td">${i + 1}<input type="checkbox" class="chek" ></td>
                <td class="start-td">${v.제품명}</td>
                <td class="start-td">${v.가격}</td>
                <td class="start-td">${v.규격}</td>
                <td class="start-td">${v.단위}</td>
                <td class="start-td">${v.공급업체}</td>
                <td class="start-td">${v.LotNo}</td>
                <td class="start-td">${v.창고위치}</td>
                `
                starttablebody.append(newstart)
            })







            const finishe = [
                { 제품명: "부대찌개", 가격: null, 규격: null, 공급업체: null, LotNo: "WPD-20250124-001", 창고위치: null },
                { 제품명: "김치찌개", 가격: null, 규격: null, 공급업체: null, LotNo: "WPD-20250124-002", 창고위치: null },
                { 제품명: "밀푀유나베", 가격: null, 규격: null, 공급업체: null, LotNo: "WPD-20250124-003", 창고위치: null },
                { 제품명: "떡볶이", 가격: null, 규격: null, 공급업체: null, LotNo: "WPD-20250124-004", 창고위치: null },
                { 제품명: "곱창전골", 가격: null, 규격: null, 공급업체: null, LotNo: "WPD-20250124-005", 창고위치: null }
            ]

            let finishebody = document.querySelector(".finishe-table tbody")
            finishe.forEach(function (v, i) {

                let newfinish = document.createElement("tr")
                newfinish.innerHTML = `
                <td class="finishe-td">${i + 1}<input type="checkbox" class="chek"></td>
                <td class="finishe-td">${v.제품명}</td>
                <td class="finishe-td">${v.가격}</td>
                <td class="finishe-td">${v.규격}</td>
                <td class="finishe-td">${v.단위}</td>
                <td class="finishe-td">${v.공급업체}</td>
                <td class="finishe-td">${v.LotNo}</td>
                <td class="finishe-td">${v.창고위치}</td>
                `
                finishebody.append(newfinish)
                console.log(v.제품명)
            })
            let startcount = 46;
            let finishecount = 5;

            //------------------------------------
            //조회 버튼 클릭시 테이블 변경
            document.querySelector("#r").addEventListener("click", function () {
                console.log("조회클릭")
                let starttable = document.querySelector(".start-table")
                let finishetable = document.querySelector(".finishe-table")

                // 원재료 조회 완재품조회 버튼 클릭시 테이블 변경
                //------------------------------------
                document.querySelector("#check-option-button").addEventListener("click", function () {
                    let checkOption = document.querySelector("#check-option").value;
                    if (checkOption == 1) {
                        //원재료 조회 선택시 입력항목 초기화


                        console.log("원재료 조회가 선택됨")
                        starttable.classList.remove("start-table")
                        finishetable.classList.add("finishe-table")

                        //원재료 에서 조회버튼 누르고 나서 생성 버튼 이벤트 만들기
                        document.querySelector("#c").addEventListener("click", function () {
                            alert("관리자인지 확인하세요")
                            console.log("생성 버튼 클릭됨")
                            //확인버튼누르면 생성
                            document.querySelector("#mid-contain-check").addEventListener("click", function () {
                                console.log("확인 버튼 클릭됨")
                                let middata = document.querySelectorAll(".mid-data")
                                for (let i = 0; i < middata.length; i++) {
                                    console.log(middata[i].value)
                                    // zi = middata[i].value
                                }
                                startcount++
                                let newstart = document.createElement("tr")
                                newstart.innerHTML = `
                                        <td class="add-start">${startcount}<input type="checkbox" class="chek"></td>
                                        <td class="add-start">${middata[0].value}</td>
                                        <td class="add-start">${middata[1].value}</td>
                                        <td class="add-start">${middata[2].value}</td>
                                        <td class="add-start">${middata[3].value}</td>
                                        <td class="add-start">${middata[4].value}</td>
                                        <td class="add-start">${middata[5].value}</td>
                                        <td class="add-start">${middata[6].value}</td>
                                        `
                                starttablebody.append(newstart)
                                //지우기 
                                middata[0].value = " "
                                middata[1].value = " "
                                middata[2].value = " "
                                middata[3].value = " "
                                middata[4].value = " "
                                middata[5].value = " "
                                middata[6].value = " "




                            })
                        })
                        //삭제
                        let cheks = document.querySelectorAll(".chek");
                        for (let i = 0; i < cheks.length; i++) {
                            cheks[i].addEventListener("click", function (e) {
                                console.log("삭제이벤트 타켓", e.target)
                                console.log("삭제이벤트 타켓 부모", e.target.parentNode.parentNode)
                                let parentdel = e.target.parentNode.parentNode
                                document.querySelector("#d").addEventListener("click", function () {
                                    parentdel.remove()
                                })
                            })
                        }


                    } else {
                        //완재품 조회 선택시 입력항목 초기화
                        console.log("완재품 조회가 선택됨")
                        starttable.classList.add("start-table")
                        finishetable.classList.remove("finishe-table")

                        document.querySelector("#c").addEventListener("click", function () {
                            alert("관리자인지 확인하세요")
                            console.log("생성 버튼 클릭됨")
                            document.querySelector("#mid-contain-check").addEventListener("click", function () {
                                console.log("확인 버튼 클릭됨")
                                let middata = document.querySelectorAll(".mid-data")
                                for (let i = 0; i < middata.length; i++) {
                                    console.log(middata[i].value)
                                    zi = middata[i].value
                                }
                                finishecount++
                                let newfinishe = document.createElement("tr")
                                newfinishe.innerHTML = `
                                        <td class="add-finishe">${finishecount}<input type="checkbox" class="chek"></td>
                                        <td class="add-finishe">${middata[0].value}</td>
                                        <td class="add-finishe">${middata[1].value}</td>
                                        <td class="add-finishe">${middata[2].value}</td>
                                        <td class="add-finishe">${middata[3].value}</td>
                                        <td class="add-finishe">${middata[4].value}</td>
                                        <td class="add-finishe">${middata[5].value}</td>
                                        <td class="add-finishe">${middata[6].value}</td>
                                        `
                                finishebody.append(newfinishe)
                                middata[0].value = " "
                                middata[1].value = " "
                                middata[2].value = " "
                                middata[3].value = " "
                                middata[4].value = " "
                                middata[5].value = " "
                                middata[6].value = " "

                            })
                        })
                        //삭제
                        let cheks = document.querySelectorAll(".chek");
                        for (let i = 0; i < cheks.length; i++) {
                            cheks[i].addEventListener("click", function (e) {
                                console.log("삭제이벤트 타켓", e.target)
                                console.log("삭제이벤트 타켓 부모", e.target.parentNode.parentNode)
                                let parentdel = e.target.parentNode.parentNode
                                document.querySelector("#d").addEventListener("click", function () {
                                    parentdel.remove()
                                })
                            })
                        }
                    }

                })




            })
            //원재료 수정이벤트 작성 
            document.querySelector(".start-table tbody").addEventListener("click", function (evnet) {
                console.log("첫번째 타켓", evnet.target)
                // 선택한 제품명,가격등 데이터 가져옴
                // console.log(event.target.parentNode.parentNode.querySelectorAll(".start-td")[0].innerText)
                let starttd = event.target.parentNode.parentNode.querySelectorAll(".start-td")
                let addstart = document.querySelectorAll(".add-start")
                // console.log(starttd[1].innerText)

                // console.log(starttd)
                // console.log(addstart)


                //-------------------
                document.querySelector("#u").addEventListener("click", function (e) {
                    let middata = document.querySelectorAll(".mid-data")
                    for (let i = 0; i < middata.length; i++) {
                        starttd[1].innerText = middata[0].value
                        starttd[2].innerText = middata[1].value
                        starttd[3].innerText = middata[2].value
                        starttd[4].innerText = middata[3].value
                        starttd[5].innerText = middata[4].value
                        starttd[6].innerText = middata[5].value
                        starttd[7].innerText = middata[6].value
                    }

                    // for (let i = 0; i < middata.length; i++) {
                    //     middata[i].value = " ";
                    // }
                })



            })
            //완재품 수정이벤트 작성 
            document.querySelector(".finishe-table tbody").addEventListener("click", function (evnet) {
                // 선택한 제품명,가격등 데이터 가져옴
                // console.log(event.target.parentNode.parentNode.querySelectorAll(".start-td")[0].innerText)
                let finishetd = event.target.parentNode.parentNode.querySelectorAll(".finishe-td")
                //-------------------
                document.querySelector("#u").addEventListener("click", function (e) {
                    // console.log(e.target)
                    let middata = document.querySelectorAll(".mid-data")
                    for (let i = 0; i < middata.length; i++) {
                        console.log(middata[i].value)
                        finishetd[1].innerText = middata[0].value
                        finishetd[2].innerText = middata[1].value
                        finishetd[3].innerText = middata[2].value
                        finishetd[4].innerText = middata[3].value
                        finishetd[5].innerText = middata[4].value
                        finishetd[6].innerText = middata[5].value
                        finishetd[7].innerText = middata[6].value

                        // console.log("middata[7].value",middata[6].value)
                    }


                })

            })






        })
    </script>
</body>

</html>