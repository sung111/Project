<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/03_사내복지.css">

</head>

<body id ="postbody">
    <div class="box">
        <h1>사내 복지</h1>
        <div class="postbtn">
            <button type="button" class="newpost">글 쓰기</button>
        </div>

        <div class="post" id="postdetail">
            <span class="content">사내 복지 제도 개선 안내입니다.</span>
            <span class="date">2025-01-20</span>
            <span class="author">안혜리</span>
        </div>

        <div class="post" onclick="showPost('other_post_url.html')">
            <span class="content">근무 환경 개선을 위한 설문 조사 실시.</span>
            <span class="date">2025-01-18</span>
            <span class="author">채민병</span>
        </div>

        <div class="post" onclick="showPost('another_post_url.html')">
            <span class="content">신규 복지 프로그램 도입 안내.</span>
            <span class="date">2025-01-15</span>
            <span class="author">김경민</span>
        </div>

       
        <div class="pagination">
            <button onclick="changePage(currentPage - 1)" id="prevButton">이전</button>
            <button onclick="changePage(1)">1</button>
            <button onclick="changePage(2)">2</button>
            <button onclick="changePage(3)">3</button>
            <button onclick="changePage(4)">4</button>
            <button onclick="changePage(5)">5</button>
            <button onclick="changePage(currentPage + 1)" id="nextButton">다음</button>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const userRole = window.parent.sessionStorage.getItem("userRole");
            const NewWorkorderbutton = document.querySelector(".newpost");
            NewWorkorderbutton.addEventListener("click", function () {
                if (userRole == "user") {
                    alert("권한이 없습니다.");
                } else if (userRole == "admin") {
                    const iframe = parent.document.querySelector("iframe");
                    iframe.src = "componant/06_글쓰기.html";
                } else {
                    alert("로그인이 필요합니다.");
                }
            });
        });
        
        const posting = document.querySelector('#postbody')
        const iframe = parent.document.querySelector("iframe")
        posting.addEventListener('click', function(){
            iframe.src="../componant/05_글내용.html";
        })
    </script>
</body>

</html>